plugins {
    id "org.jetbrains.kotlin.jvm" version "1.4.30"
    id "org.jlleitschuh.gradle.ktlint" version "10.0.0"
    id "net.thauvin.erik.gradle.semver" version "1.0.4"
    id 'maven-publish'
    id 'java'
}

group = 'okdata'

repositories {
    mavenCentral()
    jcenter()
}

dependencies {}

java {
    sourceCompatibility = JavaVersion.VERSION_1_8
    targetCompatibility = JavaVersion.VERSION_1_8
}

compileKotlin {
    kotlinOptions.jvmTarget = "1.8"
}

compileTestKotlin {
    kotlinOptions.jvmTarget = "1.8"
}

test {
    useJUnitPlatform()
}

build {
    dependsOn ktlintMainSourceSetCheck
    dependsOn test
}

java {
    withSourcesJar()
    withJavadocJar()
}

publishing {
    publications{
        myJvmLibrary(MavenPublication){
            from components.java
        }
    }
}